# Add Gameplay Tags With Gameplay Effects

## 1. Gameplay Tags çš„å¼•å…¥ä¸åº”ç”¨åœºæ™¯

- **å›é¡¾ï¼š** å·²ç»å­¦ä¹ äº†å¦‚ä½•åœ¨é¡¹ç›®ä¸­æ·»åŠ  gameplay tagsã€‚
- **ç›®æ ‡ï¼š** å°† gameplay tags æ·»åŠ åˆ°ä»»æ„ Ability System Component (ASC)ã€‚
- **æ–¹å¼ï¼š** æœ‰å¤šç§æ–¹æ³•ï¼Œå…¶ä¸­ä¹‹ä¸€æ˜¯é€šè¿‡ Gameplay Effects æ¥å®ç°ã€‚

------

## 2. æ¡ˆä¾‹ï¼šæ°´æ™¶ (Crystal) çš„ Gameplay Effect

- **æ“ä½œï¼š**
  - å¤åˆ¶ä¸€ä¸ª Health Crystal æ”¾åˆ° Player Start é™„è¿‘ã€‚
  - ç©å®¶æ‹¾å–åï¼Œç”Ÿå‘½å€¼åœ¨ 1 ç§’å†…æŒç»­å¢åŠ ã€‚
- **å®ç°åŸå› ï¼š**
  - å½’åŠŸäºè¯¥æ°´æ™¶è“å›¾ä¸­çš„ Gameplay Effectï¼š`Crystal Heal`ã€‚
  - è¿™æ˜¯ä¸€ä¸ª **å‘¨æœŸæ€§ (Periodic) Gameplay Effect**ã€‚

------

## 3. Gameplay Effect çš„ Tag åˆ†ç±»

Gameplay Effects å¯ä»¥åŒ…å«å¤šç§ tagsï¼Œæ¯ç±» tags åŠŸèƒ½ä¸åŒï¼Œå®¹æ˜“é€ æˆæ··æ·†ã€‚

### 3.1 Asset Tags (Gameplay Effect Asset Tag)

- **ç‰¹ç‚¹ï¼š**
  - æ ‡ç­¾å±äº Gameplay Effect æœ¬èº«ï¼Œå¹¶ä¸ä¼šèµ‹äºˆç›®æ ‡è§’è‰²çš„ ASCã€‚
  - ä»…ä½œä¸ºæ•ˆæœè‡ªèº«çš„æ ‡è¯†ã€‚
- **ç”¨é€”ï¼š**
  - å¯ç”¨äºé€»è¾‘åˆ¤æ–­ï¼Œä¾‹å¦‚è¯†åˆ«æ˜¯å“ªç§æ•ˆæœç”Ÿæ•ˆäº†ã€‚
- **ç»“æ„ï¼š**
  - `Combined` = (ç»§æ‰¿ + æ·»åŠ ) âˆ’ ç§»é™¤
  - `Added` = åœ¨ç»§æ‰¿çš„åŸºç¡€ä¸Šé¢å¤–æ·»åŠ çš„ tags
  - `Removed` = ä»ç»§æ‰¿çš„çˆ¶ç±» tags ä¸­å‰”é™¤çš„éƒ¨åˆ†
- **å¤‡æ³¨ï¼š**
  - é€šå¸¸ Gameplay Effect ä¸ä¼šç»§æ‰¿ï¼ˆä¸åƒå…¶ä»– GAS ç±»ï¼‰ï¼Œæ‰€ä»¥ `Removed` ç”¨å¤„è¾ƒå°‘ã€‚

### 3.2 Granted Tags

- **ç‰¹ç‚¹ï¼š**
  - è¿™äº›æ ‡ç­¾ä¼šèµ‹äºˆè¢«å‘½ä¸­çš„è§’è‰² ASCã€‚
- **æ“ä½œç¤ºä¾‹ï¼š**
  - æ·»åŠ  `Attributes.Vital.Health` ä½œä¸º granted tagã€‚
  - ç¼–è¯‘åå¯è§æ ‡ç­¾è¿›å…¥ `Combined` é›†åˆã€‚
  - åœ¨è°ƒè¯•ç•Œé¢ä¸­ï¼Œå½“ç©å®¶æ‹¾å–æ°´æ™¶æ—¶ï¼Œä¼šçœ‹åˆ° `Owned Tags` ä¸­å‡ºç°è¯¥æ ‡ç­¾ã€‚
- **æ ‡ç­¾å±‚çº§ï¼š**
  - å¯æ·»åŠ å®Œæ•´è·¯å¾„ï¼ˆ`Attributes.Vital.Health`ï¼‰
  - ä¹Ÿå¯åªåŠ éƒ¨åˆ†å±‚çº§ï¼ˆå¦‚ `Attributes.Vital`ï¼‰

------

## 4. Duration ä¸ Instant Gameplay Effect çš„åŒºåˆ«

### 4.1 Duration-based

- æ ‡ç­¾åœ¨æ•ˆæœæŒç»­æœŸé—´å­˜åœ¨ï¼Œæ•ˆæœç»“æŸæ—¶ç§»é™¤ã€‚
- ç¤ºä¾‹ï¼šæ°´æ™¶å›è¡€æŒç»­ 4 ç§’ â†’ `Owned Tags` ä¸­æ˜¾ç¤º `Attributes.Vital.Health`ï¼Œè®¡æ•°ä¸º 1ã€‚

### 4.2 Stackable vs Non-Stackable

- **Stackable (å¯å †å )ï¼š**
  - æ•ˆæœå åŠ ï¼Œä½†æ ‡ç­¾åªå‡ºç°ä¸€æ¬¡ï¼ˆå †å è®¡æ•°ä½œç”¨åœ¨æ•ˆæœä¸Šï¼‰ã€‚
- **Non-Stackable (ä¸å¯å †å )ï¼š**
  - æ¯æ¬¡æ–½åŠ éƒ½æ˜¯æ–°çš„æ•ˆæœ â†’ åŒä¸€ä¸ªæ ‡ç­¾å¯å‡ºç°å¤šæ¬¡ï¼Œè®¡æ•°éšæ•ˆæœæ•°é‡å˜åŒ–ã€‚

### 4.3 Instant-based

- æ ‡ç­¾ä¸ä¼šå‡ºç°ã€‚
- è§£é‡Šï¼šInstant Effect åªç¬é—´ç”Ÿæ•ˆï¼Œæ²¡æœ‰æŒç»­æ—¶é—´ï¼Œå› æ­¤æ²¡æœ‰æ—¶æœºç»™ ASC æ·»åŠ  tagã€‚

------

## 5. å¦‚ä½•åœ¨ Instant Effect ä¸­è·å–æ ‡ç­¾ä¿¡æ¯

- **é—®é¢˜ï¼š** Instant Effect æ— æ³•é€šè¿‡ Granted Tags æ·»åŠ æ ‡ç­¾ã€‚
- **è§£å†³æ–¹æ¡ˆï¼š** ä½¿ç”¨ **Asset Tags** æ¥æ ‡è®°æ•ˆæœæœ¬èº«ã€‚
- **åœºæ™¯ç¤ºä¾‹ï¼š** æ‹¾å–è¯æ°´æ—¶ï¼Œé€šè¿‡ Asset Tag è¯†åˆ« â†’ å±å¹•æ˜¾ç¤º â€œPicked up Health Potionâ€ã€‚

------

## 6. æ·±å…¥æºç ï¼šAbility System Component

- **å»ºè®®ï¼š**
  - æ‰“å¼€ `AbilitySystemComponent.h`ï¼Œè¿™å‡ ä¹æ˜¯ GAS çš„æ ¸å¿ƒæ–‡æ¡£ã€‚
  - æ–‡ä»¶æ¥è¿‘ 2000 è¡Œï¼Œå……æ»¡æ³¨é‡Šï¼Œéå¸¸é€‚åˆå½“æˆâ€œå®˜æ–¹æ‰‹å†Œâ€ã€‚
  - å³ä½¿ä¸çœ‹ä»£ç ï¼Œè‡³å°‘å¿«é€Ÿæ‰«ä¸€éå‡½æ•°åå’Œæ³¨é‡Šï¼Œå½¢æˆå…¨å±€å°è±¡ã€‚

------

## 7. å…³é”® Delegate æœºåˆ¶

AbilitySystemComponent æä¾›äº†å¤§é‡å§”æ‰˜ (Delegate)ï¼Œç”¨äºç›‘å¬ Gameplay Effect ç”Ÿå‘½å‘¨æœŸã€‚

### 7.1 OnGameplayEffectApplied

- **To Self:**
  - åœ¨è‡ªèº«åº”ç”¨ Gameplay Effect æ—¶è§¦å‘ï¼ˆåŒ…æ‹¬ Instantã€Durationã€Infiniteï¼‰ã€‚
  - è¿è¡Œåœ¨ **Server** ä¸Šã€‚
- **To Target:**
  - åœ¨å°† Gameplay Effect åº”ç”¨äºä»–äººæ—¶è§¦å‘ã€‚

### 7.2 OnActiveGameplayEffectAdded

- **è¯´æ˜ï¼š** ä»…åœ¨ Duration æˆ– Infinite æ•ˆæœè¢«æ·»åŠ æ—¶è§¦å‘ã€‚
- **Instant æ•ˆæœä¸ä¼šè§¦å‘æ­¤å§”æ‰˜ã€‚**

### 7.3 OnPeriodicGameplayEffectExecute

- **è¯´æ˜ï¼š** é€‚ç”¨äºå‘¨æœŸæ€§æ•ˆæœï¼Œæ¯æ¬¡ tick æ‰§è¡Œæ—¶è§¦å‘ã€‚
- **åº”ç”¨åœºæ™¯ï¼š** ä¾‹å¦‚æ¯ç§’å›è¡€æ—¶è§¦å‘ä¸€æ¬¡ã€‚

------

## 8. Replication ç­–ç•¥å¤ä¹ 

- **Mixed:**
  - Gameplay Effects åªå¤åˆ¶ç»™æ‹¥æœ‰è€…å®¢æˆ·ç«¯ã€‚
  - Gameplay Cues & Tags ä¼šåŒæ­¥ç»™æ‰€æœ‰å®¢æˆ·ç«¯ã€‚
- **Minimal:**
  - Gameplay Effects ä¸å¤åˆ¶ã€‚
  - Gameplay Cues & Tags ä¼šåŒæ­¥ã€‚
- **Full:**
  - å®Œæ•´å¤åˆ¶æ•ˆæœï¼ˆæœ¬é¡¹ç›®æœªä½¿ç”¨ï¼‰ã€‚

------

ğŸ“Œ **æ€»ç»“**

- **Asset Tags**ï¼šæ ‡è®°æ•ˆæœè‡ªèº«ï¼Œä¸å½±å“ ASCã€‚
- **Granted Tags**ï¼šèµ‹äºˆç›®æ ‡è§’è‰² ASCï¼Œä»…åœ¨ Duration/Infinite æ•ˆæœä¸­æœ‰æ•ˆã€‚
- **Stack vs Non-Stack**ï¼šæ•ˆæœå †å å’Œæ ‡ç­¾å †å çš„åŒºåˆ«ã€‚
- **Instant æ•ˆæœé—®é¢˜**ï¼šé€šè¿‡ Asset Tag + Delegate è§£å†³ã€‚
- **æºç å»ºè®®**ï¼šé˜…è¯» ASC å¤´æ–‡ä»¶ï¼ŒæŒæ¡å¸¸ç”¨å§”æ‰˜å’Œæœºåˆ¶ã€‚



------

# å¤åˆ¶æ¨¡å¼ (Replication Mode)

| å¤åˆ¶æ¨¡å¼              | ä½¿ç”¨åœºæ™¯           | æè¿°                                                         |
| --------------------- | ------------------ | ------------------------------------------------------------ |
| **Fullï¼ˆå®Œæ•´ï¼‰**      | å•äººæ¸¸æˆ           | **Gameplay Effects** ä¼šå¤åˆ¶åˆ°æ‰€æœ‰å®¢æˆ·ç«¯                      |
| **Mixedï¼ˆæ··åˆï¼‰**     | å¤šäººæ¸¸æˆï¼Œç©å®¶æ§åˆ¶ | **Gameplay Effects** åªå¤åˆ¶åˆ°æ‹¥æœ‰è€…å®¢æˆ·ç«¯ã€‚**Gameplay Cues** å’Œ **Gameplay Tags** ä¼šå¤åˆ¶åˆ°æ‰€æœ‰å®¢æˆ·ç«¯ã€‚ |
| **Minimalï¼ˆæœ€å°åŒ–ï¼‰** | å¤šäººæ¸¸æˆï¼ŒAI æ§åˆ¶  | **Gameplay Effects ä¸ä¼š**è¢«å¤åˆ¶ã€‚**Gameplay Cues** å’Œ **Gameplay Tags** ä¼šå¤åˆ¶åˆ°æ‰€æœ‰å®¢æˆ·ç«¯ã€‚ |

