# Gameplay Tags 概述与应用

## 1. Gameplay Tags 的基本概念

- **定义**：Gameplay Tags 本质上是名字（基于 `FName`）。
- **注册机制**：所有标签需要在 **Gameplay Tag Manager** 中注册。
- **层级结构**：支持父级 → 子级 → 孙级的层级关系，层级用 `.` 分隔，数量不限。

## 2. Gameplay Tags 与其他数据类型对比

- **替代选项**：`FString`、`FName`、`enum`、布尔值。
- **优势**：
  - 拥有层级结构，便于组织。
  - 可以比较 **完全相等** 或 **部分相等**（共享相同根标签时也有意义）。
  - 内置灵活性和可扩展性。

## 3. Gameplay Tags 在 GAS（Gameplay Ability System）中的作用

- **广泛使用**：几乎所有 GAS 类中都涉及标签。
- **Actor 与 Tags 的关系**：
  - 标签被赋予 **Ability System Component (ASC)**，而不是直接赋予 Actor。
  - ASC 实现了 `IGameplayTagAssetInterface` 接口，提供便捷的标签操作。
- **容器存储**：
  - 标签存储在 **GameplayTagContainer**（而不是数组）。
  - 提供了标签专用功能和优化。
  - 内置 **Tag Map Count** 概念：同一标签可存在多次，记录数量（可能为 0 表示被移除过）。

## 4. Gameplay Tags 的具体用法与检查机制

- **功能示例**：
  - 检查对象是否拥有某标签。
  - 获取所有拥有的标签。
  - 匹配部分标签。
- **注意事项**：
  - 即使容器中某标签 `TagMapCount = 0`，仍可能在调试时显示出来。
  - 系统检查时会基于 **Tag Map Count** 判断。

## 5. Gameplay Tags 与 Gameplay Effects

- **标签的赋予与移除**：
  - 当 Gameplay Effect 应用于 ASC 时，会赋予对应的标签。
  - 效果结束时，会自动移除该标签。
- **应用示例**：
  - 一个持续时间的效果，在持续期间赋予 ASC 一个标签；
  - 当持续时间到期，效果移除，标签也随之消失。

## 6. Gameplay Tags 与 Gameplay Abilities

- **能力限制机制**：
  - **Blocked Tags**：若 ASC 拥有该标签，则无法激活此能力。
  - **Required Tags**：ASC 必须拥有这些标签才能激活能力。
- **效果**：
  - 系统自动基于标签判断能力是否可用。

## 7. Gameplay Tags 的扩展应用

- 可用于标识：
  - 输入
  - 能力
  - 属性
  - 伤害类型
  - Buff / Debuff
  - 消息
  - 其他自定义数据类型

## 8. 课程方向

- 后续将广泛使用 Gameplay Tags。
- 下一步：学习如何将标签添加到项目中。

