# RPG角色职业

## 一、引言：从基础伤害到角色系统

- 当前状态：敌人生命值通过简单的 Gameplay Effect 受到影响，仅为占位实现。
- 目标：将伤害与角色属性系统（Attributes）结合，使战斗系统具备 RPG 深度。
- 问题点：角色目前使用 Aura 默认初始属性，缺乏差异化与成长机制。

------

## 二、角色职业（Character Class）概念设计

- 区分编程意义的“Class”和 RPG 概念中的“职业”。
- 各职业在 RPG 中代表不同的强项与弱项：
  - **Warrior（战士）**：以近战攻击为主（剑击、枪刺）。
  - **Ranger（游侠）**：擅长远程攻击（弓箭、投射物）。
  - **Elementalist（元素使）**：以魔法攻击为核心。
- Aura 属于 Elementalist 职业，其战斗方式基于法术。

------

## 三、属性初始化的设计目标

- 不同职业应有不同的初始属性（力量、智力、耐力等）。
- 敌人角色应依据“等级（Level）”调整初始属性。
- 高等级敌人应拥有更高的基础属性。
- Aura 若从存档加载，则使用保存时的属性数据。

------

## 四、数据结构与初始化架构设计

### 1. 枚举（Enum）定义

- 创建 `ECharacterClass` 枚举类型，用于区分角色职业：
  - 包含 Warrior / Ranger / Elementalist 三个枚举常量。

### 2. 数据资产（Data Asset）定义

- 创建 `CharacterClassInfo` 数据资产，用于储存各职业信息：
  - 每个职业的初始属性与成长曲线。
  - 不同等级对应的属性值数据。
  - 该数据资产是职业属性与技能的核心定义容器。

### 3. 数据来源形式

- 数据资产中可使用：
  - **Data Table（数据表）**
  - **Curve Table（曲线表）**
  - 甚至嵌套 Data Asset
- 推荐：使用 **Curve Table** 存储主属性随等级增长的曲线。

------

## 五、曲线表（Curve Table）结构规划

- 示例：
  - `Warrior_PrimaryAttributes`
  - `Ranger_PrimaryAttributes`
  - `Elementalist_PrimaryAttributes`
- 每个 Curve Table 包含多条曲线：
  - 力量（Strength）
  - 智力（Intelligence）
  - 体质（Constitution）
  - 敏捷（Dexterity） 等
- 随等级变化，曲线输出属性成长值。

------

## 六、Gameplay Effects 的角色属性初始化逻辑

- **Primary Attributes Effect**：初始化主要属性。
- **Secondary Attributes Effect**：基于主要属性推算的次级属性（如暴击、护甲）。
- **Vital Attributes Effect**：初始化生命、法力等关键属性。
- 初始化顺序：Primary → Secondary → Vital。

------

## 七、角色技能与共享效果管理

- 敌人职业的数据资产中还应包含：
  - 该职业独有技能（Abilities）。
  - 全体敌人共享技能（如死亡、受击反应）。
  - 全体共享的 Gameplay Effects。
- 数据组织建议：
  - `SharedAbilities[]`：所有敌人通用技能。
  - `SharedEffects[]`：所有敌人通用效果。
  - `UniqueAbilities[]`：每种敌人独有技能（暂为空）。

------

## 八、系统实现步骤总览

1. **创建 Data Asset（CharacterClassInfo）**
    存储全部角色职业基础与成长数据。
2. **创建 Enum（ECharacterClass）**
    定义 Warrior / Ranger / Elementalist 等常量。
3. **创建 Curve Tables**
    每个职业各自独立的属性成长表。
4. **编写 Gameplay Effects**
    分别应用 Primary / Secondary / Vital 属性。
5. **定义共享与独有技能数组**
   - SharedAbilities
   - SharedEffects
   - UniqueAbilities
6. **在 C++ 工具库中实现初始化函数**
   - 建议放于 `AuraAbilitySystemLibrary`。
   - 参数：
     - `CharacterClassInfo` 数据资产
     - `AbilitySystemComponent`
     - `CharacterLevel`
   - 功能：
     - 读取数据资产与曲线表
     - 应用对应 Gameplay Effects 初始化属性
     - 授予初始技能与通用效果

------

## 九、总结

- 通过 **职业系统 + 等级成长 + Gameplay Effects 初始化机制**，
   实现可扩展的 RPG 风格属性体系。
- 后续将进入具体实现：
  - 创建 `CharacterClassInfo` DataAsset
  - 构建属性曲线表
  - 编写初始化逻辑函数
- 目标：为每个敌人角色实现职业差异化的属性与技能初始化。

