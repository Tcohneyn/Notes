这段视频主要记录了为萨满定制**专属行为树**的过程，并顺带修复了一个严重的**火球碰撞 Bug**。以下是标题大纲式详细总结：

### 一、 为萨满创建定制化行为树 [00:00 - 01:53]

- **复制现有行为树**：为了不影响其他敌人，将通用的 `BT_Enemy` 复制并重命名为 `BT_Elementalist`。
- **配置技能数据**：
  - 在 `CharacterClassInfo` 中，为 Elementalist 类（萨满）同时配置了 `Summon`（召唤）和 `EnemyFirebolt`（敌方火球）两个技能。
- **初步测试**：由于行为树目前仍只触发 `Attack` 标签，萨满目前表现为只会疯狂发射火球，这符合预期（证明了行为树切换成功）。

### 二、 修复火球“落地即炸”的 Bug [01:53 - 04:00]

- **问题诊断**：萨满体型矮小，火球在生成的瞬间就与其脚下的地面发生重叠，导致火球刚离手就发生爆炸。
- **初步对策**：尝试减小火球碰撞球体的半径（从 30 减小到更小），虽然有效但导致技能太难命中玩家。
- **进阶对策：延迟启用碰撞**：
  - 在 `Firebolt` 蓝图的 `BeginPlay` 事件中，先将球体碰撞设为 **No Collision**（无碰撞）。
  - 添加一个极短的延迟（约 0.1s - 0.2s），然后再将其设为 **Query Only**。
  - 这样火球在飞出萨满身体初期会处于“穿透”状态，避免误触地面。

### 三、 C++ 层面的变量暴露 [05:15 - 06:19]

- **技术瓶颈**：原本在蓝图中无法访问 `Sphere` 碰撞组件，因为它在 C++ 中是私有的。
- **解决方案**：
  - 修改 `AuraProjectile.h`。
  - **方法 A (元数据法)**：使用 `meta = (AllowPrivateAccess = "true")` 强制暴露私有变量（视频中提到但未采用）。
  - **方法 B (受保护法 - 最终采用)**：将 `Sphere` 变量从 `private` 移动到 `protected` 区域，使其对蓝图子类可见。

### 四、 完善碰撞逻辑与调试 [06:19 - 09:00]

- **验证延迟效果**：使用 `Draw Debug Sphere` 在碰撞启用的瞬间画圆，观察火球离手的安全距离。
- **异常处理**：修复了一个由于火球销毁导致调试球体尝试访问无效组件（Pending Kill）而引发的蓝图报错。
  - **技巧**：在蓝图中右键变量，选择 **Convert to Validated Get**（转换为验证获取），相当于 C++ 中的非空校验。
- **最终效果**：火球可以恢复较大的碰撞半径（更容易命中），同时再也不会在萨满脚下提前爆炸。

### 五、 后续计划 [09:00 - 09:35]

- **逻辑集成**：目前火球逻辑已稳健，下一步将在定制的行为树中正式加入“随从数量判断”和“召唤/攻击切换”逻辑。

------

**核心知识点：**

1. **AI 设计**：通过复制行为树实现不同兵种的行为差异化。
2. **碰撞优化**：利用“短时间忽略碰撞”解决生成瞬间的重叠冲突。
3. **C++ & 蓝图交互**：使用 `protected` 关键字和 `Validated Get` 确保数据的安全访问。