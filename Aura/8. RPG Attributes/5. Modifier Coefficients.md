# **Attribute Based Modifier 参数：Coefficient / Pre / Post Additive**

## 1. 回顾与问题

- 目前可用的运算：加、减、乘、除。
- 不足之处：
  - 只能做简单操作。
  - 无法表达诸如「Strength × 10」「Strength × 0.1 + 12」的公式。

------

## 2. 引入三个关键参数

- **Coefficient**（系数）。
- **Pre Multiply Additive**（乘法前加数）。
- **Post Multiply Additive**（乘法后加数）。
- 作用：扩展 Attribute Based 的计算能力。

------

## 3. 运算流程（公式）

以 Vigor = 9 为例：

1. **加上 Pre Multiply Additive**。
2. **乘以 Coefficient**。
3. **加上 Post Multiply Additive**。

公式：

```
Result = (BackingAttribute + Pre) × Coefficient + Post
```

------

## 4. 示例一：单一 Modifier

- Modifier：Vigor (9)，Operation = Add。
- 参数：Coefficient = 0.1，Pre = 2，Post = 5。
- 计算：
  - (9 + 2) × 0.1 + 5 = 6.1。

------

## 5. 示例二：多个 Modifier

- 三个 Modifier，分别背靠 Vigor / Strength / Resilience。
- 每个 Modifier 独立应用同样的公式。
- 例子：
  1. Vigor Modifier：Coefficient=0.1, Pre=3, Post=1 → 结果 = 2.2。
  2. Strength Modifier：Coefficient=0.5, Pre=6, Post=11 → 结果 = 19。
  3. Resilience Modifier：Coefficient=2.1, Pre=0.5, Post=5.7 → 结果 = 7.26。

------

## 6. 实测验证

- 在 GameplayEffect 中为每个 Modifier 设置参数。
- Debug 显示结果与计算一致：最终 = 7.26。

------

## 7. 灵活性与限制

- 灵活性：
  - 可以表达「属性 × 系数 + 偏移」的形式。
  - 属性之间可建立依赖关系。
- 限制：
  - 无法表达任意复杂的计算。
  - 更复杂的派生属性需要使用其他 GAS 方法。

------

## 8. 展望

- 未来将学习 **派生属性 (Derived Attributes)**：
  - 始终依赖于其他属性的值。
  - 当基础属性变化时，派生属性自动更新。

