这段视频教程主要介绍了如何利用虚幻引擎的**环境查询系统（Environment Query System，简称 EQS）**来解决远程敌人 AI 在遇到障碍物时的智能表现问题。

以下是内容的标题大纲式详细总结：

### 一、 远程攻击者 AI 的新挑战

- **不仅仅是距离问题**：对于近战敌人，靠近玩家即可攻击；但对于远程敌人，仅靠距离判定是不够的。
- **障碍物（Obstacles）的影响**：如果玩家躲在墙后，AI 仅仅因为距离达到要求就原地开火，会显得非常愚蠢（子弹会击中墙壁）。

### 二、 理想的行为模式

- **智能寻位**：当视线被阻挡时，AI 应当能够主动寻找新的位置。
- **侧翼包抄/寻找视角**：理想情况下，AI 应该能移动到障碍物的边缘或侧方，重新获得对玩家的清晰视野，然后再进行射击。

### 三、 环境查询系统 (EQS) 核心概念

EQS 是虚幻引擎专门用于让 AI “感知”周围环境并做出最佳选择的工具。其工作流程包含以下关键部分：

1. **生成器 (Generator)**：
   - 在指定的原点周围生成一系列候选点或物体，这些点被称为“**项目 (Items)**”。
   - 例如：在 AI 周围 500 单位半径内生成一个圆环状的采样点阵。
2. **测试 (Tests)**：
   - 对生成的每一个项目（采样点）提出“问题”。
   - **视线测试 (Trace Test)**：从采样点向玩家发射一条射线，检查是否有障碍物阻挡。
3. **过滤 (Filtering) 与评分 (Scoring)**：
   - **过滤**：剔除掉无法看到玩家的采样点。
   - **评分**：对剩下的点进行优劣排序。例如，可以运行一个“距离测试”，优先选择离 AI 最近或离玩家最远的合格点。

### 四、 EQS 与行为树的集成

- **选取最佳项**：系统会自动挑选得分最高的一个点。
- **更新黑板 (Blackboard)**：将这个最佳位置坐标写入黑板键（例如 `MoveToLocation`）。
- **执行移动**：行为树通过 `MoveTo` 节点驱动 AI 跑到这个最佳位置。

### 五、 总结与展望

- **提升智能感**：通过 EQS，远程攻击者将具备基本的环境认知能力，不再盲目射击。
- **后续计划**：接下来的视频将开始在虚幻引擎中实际配置 EQS 资源，并将其整合到现有的行为树分支中。

------

**您想了解如何开启虚幻引擎中默认关闭的 EQS 插件，还是想先看看如何在行为树里添加 EQS 查询节点？**