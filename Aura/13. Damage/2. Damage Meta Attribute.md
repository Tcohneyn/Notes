# **ğŸ¯ ä½¿ç”¨ Meta Attribute å®ç°ä¼¤å®³å¤„ç†ï¼ˆæœ¬æ®µå­—å¹•å¤§çº²ï¼‰**

### **1. è½¬æ¢æ€è·¯ï¼šä»ç›´æ¥æ‰£è¡€åˆ°ä½¿ç”¨ Meta Attribute**

- åŸæœ¬ï¼šGameplay Effect ç›´æ¥ä¿®æ”¹ Healthï¼ˆ-10ï¼‰ã€‚
- ç°åœ¨ï¼šé€šè¿‡â€œIncomingDamageâ€è¿™ä¸ª meta attribute è¿›è¡Œä¼¤å®³è¾“å…¥ï¼Œå†ç”± Attribute Set å¤„ç†æœ€ç»ˆæ‰£è¡€ã€‚

------

### **2. æ›´æ–° G_Damageï¼ˆGameplay Effectï¼‰çš„ç›®æ ‡å±æ€§**

- å»æ‰å¯¹ Health çš„ç›´æ¥ä¿®æ”¹ã€‚
- æ”¹ä¸ºå¯¹ **IncomingDamage** æ·»åŠ æ­£æ•°ä¼¤å®³å€¼ï¼ˆä¾‹å¦‚ +25ï¼‰ã€‚
- GE ä¸å†è´Ÿè´£æœ€ç»ˆæ‰£è¡€ï¼Œåªè´Ÿè´£å‘Šè¯‰ç³»ç»Ÿâ€œé€ æˆäº†å¤šå°‘ä¼¤å®³â€ã€‚

------

### **3. åœ¨ Attribute Set ä¸­åˆ›å»º Damage Meta Attribute**

- æ–°å¢ï¼š`IncomingDamage`ï¼ˆé replicatedï¼‰ã€‚
- åˆ†ç±»ä¸º â€œMeta Attributesâ€ã€‚
- ç”Ÿæˆè®¿é—®å™¨å®ï¼ˆAccessorsï¼‰ã€‚
- è¯´æ˜ï¼šmeta attribute åªåœ¨æœåŠ¡å™¨ä½¿ç”¨ï¼Œä¸åŒæ­¥åˆ°å®¢æˆ·ç«¯ã€‚

------

### **4. ä½¿ç”¨ IncomingDamageï¼šPostGameplayEffectExecute å¤„ç†æµç¨‹**

#### **4.1 æ£€æµ‹æ˜¯å¦ä¸º IncomingDamage**

- åœ¨ `PostGameplayEffectExecute` é‡Œæ£€æŸ¥ attribute æ˜¯å¦æ˜¯ IncomingDamageã€‚

#### **4.2 æ¶ˆè´¹å¹¶æ¸…é›¶ Meta Attribute**

- å°†å…¶å€¼ç¼“å­˜åˆ° `LocalIncomingDamage`ã€‚
- å°† IncomingDamage é‡è®¾ä¸º 0ï¼ˆå› ä¸ºå®ƒåªç”¨äºæœ¬æ¬¡è®¡ç®—ï¼‰ã€‚

#### **4.3 è®¡ç®—æ–°ç”Ÿå‘½å€¼**

- `NewHealth = Health - LocalIncomingDamage`ã€‚
- ä½¿ç”¨ `FMath::Clamp()` é™åˆ¶åœ¨ 0 ï½ MaxHealth ä¹‹é—´ã€‚
- è®¾ç½®æ–°çš„ Health å€¼ã€‚

#### **4.4 åˆ¤æ–­æ˜¯å¦ä¸ºè‡´å‘½ä¼¤å®³**

- å¦‚æœ `NewHealth <= 0` â†’ fatal killï¼Œå¯ç”¨äºåç»­æ­»äº¡é€»è¾‘ã€‚

------

### **5. ä½¿ç”¨ Meta Attribute çš„æ„ä¹‰**

- å¯æ‰©å±•å¤æ‚ä¼¤å®³å¤„ç†ï¼ˆblockã€critã€buffã€debuffã€ç«ä¼¤ã€é›·å‡»ç­‰ï¼‰ã€‚
- æ¯å¸§è‡ªåŠ¨â€œæ¶ˆè´¹ â†’ æ¸…é›¶â€ã€‚
- å…è®¸æ›´çµæ´»çš„æ•°å­¦è®¡ç®—å’Œååº”åŠŸèƒ½ã€‚

------

### **6. å›åˆ° G_Damage è°ƒæ•´ Meta Attribute**

- ä¿®æ”¹ Modifierï¼š
  - å±æ€§ï¼šHealth â†’ IncomingDamage
  - æ•°å€¼ï¼šä½¿ç”¨æ­£æ•°ï¼ˆå¦‚ 25ï¼‰
- éªŒè¯ï¼šå‘å°„ fireball æ—¶ï¼ŒHealth æ­£ç¡®æ‰£é™¤ã€‚

------

### **7. ä¸‹ä¸€æ­¥ï¼šè§£å†³ä¼¤å®³æ•°å€¼ç¡¬ç¼–ç é—®é¢˜**

- ç›®å‰ä¼¤å®³ä»ç„¶å†™æ­»ä¸º 25ã€‚
- å¸Œæœ›ä¼¤å®³æ¥è‡ª Gameplay Ability æœ¬èº«ã€‚
- å°†å¼•å‡º Magnitude Calculation çš„ç¬¬ 4 ç§æ–¹å¼ï¼š**SetByCaller**ã€‚
- ä¸‹ä¸€æ®µå°†è®²è§£ SetByCallerã€‚

------

