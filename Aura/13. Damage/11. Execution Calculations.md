好的，这是这段视频教程关于“游戏效果执行计算（Execution Calculation）”的详细大纲总结：



### I. 什么是执行计算 (Execution Calculation - Exec Calcs)



------

- **定义**: 一种自定义计算方式，通过继承 `UGameplayEffectExecutionCalculation` 类实现。
- **特点**:
  - **最强大的自定义方式**: 提供完全的编程灵活性。
  - **多属性修改能力**: 可以改变一个或多个属性（区别于只能修改单个属性的 Modifier Magnitude Calculation - MKs）。
  - **属性捕获**: 能够捕获（Capture）源头和目标的属性值进行计算。



### II. 执行计算的限制与注意事项 (Caveats and Restrictions)



------

- **不支持预测**: 不支持客户端预测 (No Prediction Support)。
- **效果类型限制**: 只能用于 **Instant (瞬间)** 或 **Periodic (周期性)** 的 Gameplay Effects。
  - *不适用于* **Infinite (无限期)** 或 **Duration Based (基于持续时间)** 的 Gameplay Effects（除非它们包含周期性执行）。
- **属性流程**: 捕获属性值时，**不会** 运行 `PreAttributeChange`。因此，任何需要的属性值钳制（Clamping）必须在 Exec Calc 内部手动执行。
- **网络执行**:
  - Exec Calc **仅在服务器上运行**。
  - 即使 Gameplay Ability 是 `Local Predicted`，由此产生的 Exec Calc 仍只在服务器执行。



### III. 属性捕获机制 (Attribute Capturing Mechanism)



------

- **Snapshotting (快照)**:
  - **针对 Source (施法源头)**:
    - 如果启用快照 (`Snapshot`)：属性值在 **Gameplay Effect Spec 创建时** 立即捕获。
    - 如果禁用快照 (`No Snapshot`)：属性值在 **Gameplay Effect 应用时** 捕获。
- **Target (目标)** 的属性捕获:
  - **总是** 在 **Gameplay Effect 应用时** 捕获。
  - *原因*: 在 Spec 创建时，通常不知道确切的目标是谁（例如：火球术）。



### IV. 强大的功能组合 (Powerful Functionality Combination)



------

- **Set by Caller Magnitudes (调用者设定的数值)**:
  - Exec Calc 能够检索在 Gameplay Effect Spec 上设置的、由 Gameplay Tag 标识的键值对浮点数（Set by Caller Magnitudes）。
- **结合 Calculation Modifiers (计算修饰符)**:
  - Exec Calc 捕获的属性值是经过 Gameplay Effect 本身定义的 **Calculation Modifiers** 修改后的最终值。
  - Modifiers 可以在 Gameplay Effect 上对源头或目标的属性进行 **Override (覆盖)**, **Add (相加)**, **Subtract (相减)**, **Multiply (相乘)** 等操作。



### V. 常见应用场景 (Common Use Case)



------

- **复杂伤害计算**: Exec Calc 是处理需要将大量属性和其他数值（如暴击、格挡、穿透等）纳入考虑的复杂伤害公式的理想选择。

> **下一视频预告**: 将实现一个 Exec Calc 来处理复杂的伤害计算。