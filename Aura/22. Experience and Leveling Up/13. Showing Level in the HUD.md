这份关于《在 HUD 中显示等级》（Showing Level in the HUD）视频字幕的详细大纲式总结如下：

### **一、 C++ 后端逻辑实现：委托（Delegate）的声明与绑定**

- **创建通用的整数统计委托**：由于等级、属性点和技能点都是整数，作者声明了一个新的动态多播委托 `FOnPlayerStatChangedSignature`，其接收一个 `int32` 类型的参数 。

- **在 Widget Controller 中定义委托**：在 `OverlayWidgetController` 中定义了 `OnPlayerLevelChangedDelegate` 变量，并将其类别设为 `GAS|Level`，以便在蓝图中分配使用 。

- **使用 Lambda 进行数据绑定**：在 `BindCallbacksToDependencies` 函数中，通过 Lambda 表达式监听 `PlayerState` 的等级变化委托。当等级改变时，该 Lambda 会捕获新等级值并将其广播给 UI 控件 。

  

### **二、 UI 控件的创建与精简（Blueprints）**

- **复用现有组件**：为了节省时间，作者通过复制 `WB_SpellGlobe`（技能球）创建了 `WB_ValueGlobe`（数值球） 。

  

- **移除冗余逻辑与变量**：

  - 删除了与技能图标（Spell Icon）相关的所有引用和更新函数 。

    

  - 清除了技能标签（Input Tag）、冷却标签（Cooldown Tag）以及与之相关的定时器和处理逻辑 。

    

- **调整组件属性**：

  - 将原有的“冷却文本框”重命名为 `text_value` 。

    

  - 调整文本的不透明度（Render Opacity）为 1，并增大字号（如 36 号字）以适应两位数的等级显示 。

    

### **三、 视觉效果与材质自定义**

- **创建专用背景材质**：为等级球创建了独立的材质实例 `MI_LevelBG`（基于 `MI_LockedBG` 复制），以避免修改技能菜单中的锁定背景。

  

- **材质参数微调**：

  - 通过调整云朵暗度（Cloud Darkness）和负片颜色（Negative Color）使背景看起来更暗、更深沉 。

    

  - 降低了噪声贴图的平移速度（Speed），使视觉效果不那么动荡 。

    

- **控件动态更新**：在 `Event Pre Construct` 和 `Event Construct` 中调用 `UpdateBackground` 函数，确保在编辑器和运行中都能正确显示背景材质 。

  

### **四、 最终集成与功能验证**

- **在 Overlay 中添加控件**：将处理好的 `WB_ValueGlobe` 放入 HUD 的 Overlay 界面中。

- **验证等级同步**：通过测试杀敌升级，观察 HUD 中的数值是否能从 1 正确跳转到 2，确保数据流从 `PlayerState` 经由 `Widget Controller` 准确传递到了 UI 。

  

  