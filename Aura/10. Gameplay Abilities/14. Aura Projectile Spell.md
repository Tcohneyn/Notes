### 【创建投射物技能基础类：AuraProjectileSpell】

#### 一、环境调整

- 将测试棋盘地面替换为瓷砖地面以提升视觉效果。
- 调整角色的 Spring Arm 长度（从 400 提升至 700～800）以获得更合适的俯视距离。

------

#### 二、目标概述

- 目标：创建一个**通用的投射物类技能（Projectile Spell）**。
- 特点：
  - 可用于火球（Firebolt）或任意类型的投射物；
  - 不局限于火焰类技能。

------

#### 三、创建 C++ 类 AuraProjectileSpell

1. **路径**：`C++ Classes/Aura/Public/AbilitySystem/Abilities`
2. **基类**：`AuraGameplayAbility`
   - 使用项目级基础类，继承通用功能（如启动输入标签）。
3. **命名**：`AuraProjectileSpell`
4. **位置**：直接放在 `Abilities` 文件夹中，不归类至 Fire 文件夹。

------

#### 四、了解 GameplayAbility 结构

- 建议阅读 `GameplayAbility.h` 文件：
  - 熟悉其函数与变量（如 Activate、CanActivate 等）；
  - 理解实例化能力与非实例化能力的区别。
- 核心函数：`ActivateAbility()`
  - 是定义技能行为的主函数；
  - 同时存在原生（C++）版与 K2（Blueprint）版。
- “K2” 表示函数为 Blueprint 可访问版本（源于旧系统 “Kismet 2” 命名）。

------

#### 五、在 AuraProjectileSpell 中重写 ActivateAbility

- 定义位置：`protected` 区域。
- 函数签名包括：
  - `FGameplayAbilitySpecHandle`（技能句柄）
  - `FGameplayAbilityActorInfo`（拥有者信息）
  - `FGameplayAbilityActivationInfo`（激活信息）
  - `FGameplayEventData`（事件数据）
- 在函数内：
  - 调用 `Super::ActivateAbility()`；
  - 使用 `UKismetSystemLibrary::PrintString()` 打印调试信息（黄色文本 “Activate Ability (C++)”）。

------

#### 六、在蓝图中创建子类 Firebolt

1. **路径**：`Blueprints/AbilitySystem/GameplayAbilities/Fire/Firebolt`
2. **基类**：`AuraProjectileSpell`
3. **命名**：`GA_Firebolt`（Gameplay Ability - Firebolt）
4. **事件图设置**：
   - 在 `Event ActivateAbility` 中使用 `PrintString` 输出 “Activate Ability (Blueprint)”；
   - 设置输入标签：`Input Tag = LMB（左键）`。

------

#### 七、分配与测试技能

1. 在角色蓝图中添加新技能：
   - 移除旧测试技能；
   - 添加 `GA_Firebolt`。
2. 运行游戏：
   - 左键点击敌人时触发技能；
   - 可看到先出现蓝图版消息，再出现 C++ 版黄色消息。

------

#### 八、结果与下一步

- 成功验证：Blueprint 与 C++ 激活流程均正常执行；
- 下一步：在该技能中实现**投射物生成逻辑**，让火球真正发射。