在本节视频课程中，我们为 UI 系统添加了最后的视觉修饰：**摄像机动态切换效果**。通过在点击不同按钮（如 Story、Options、Credits 等）时平滑切换到不同的摄像机视角，极大提升了主菜单的沉浸感。

以下是详细的内容总结：

------

## 一、 场景摄像机布置与配置

为了给每个菜单界面提供独特的背景视角，我们在关卡中创建并配置了多台摄像机：

- **创建摄像机**：通过复制默认摄像机并调整位置、角度。
- **设置标签 (Actor Tags)**：为每台摄像机分配唯一的标签，以便逻辑识别：
  - `default`：主菜单默认视角。
  - `story`：故事/开始游戏视角。
  - `options`：选项设置视角（聚焦于角色胸部）。
  - `credit`：鸣谢名单视角。
  - `quit`：退出确认视角（从侧面观察角色）。
- **对焦设置 (Focus Settings)**：将所有摄像机的 **Focus Method** 设置为手动，并选取关卡中的模型（Mannequin）作为对焦目标，确保背景清晰。

------

## 二、 核心逻辑实现：摄像机切换函数

在主菜单 Widget 蓝图中，我们创建了一个通用函数 `SwitchCameraByTagWithBlend`：

### 1. 查找目标摄像机

- 使用 **Get All Actors of Class with Tag** 节点，指定搜索 `CameraActor` 类并传入对应的标签。
- 使用 **Random Array Item**：如果存在多个相同标签的摄像机，随机选择一台（增加了系统的灵活性）。
- 进行 **Is Valid** 验证，确保找到目标后再执行切换。

### 2. 平滑混合切换 (Set View Target with Blend)

- **Owning Player Controller**：获取当前前端玩家控制器。
- **混合参数配置**：
  - **Blend Time**：设置为 **1.0 秒**。
  - **Blend Function**：选择 **Cubic**（三次混合），实现平滑的淡入淡出加速效果。
  - **Blend Exp**：设置为 **0.5**。

------

## 三、 UI 事件与摄像机联动

将上述函数集成到主菜单的各个按钮事件中：

- **初始状态**：重写 `OnActivated` 事件，当主菜单显示时，自动切回 `default` 相机。
- **按钮点击触发**：
  - 点击 **Story**：切换至 `story` 标签摄像机，然后推送 Widget。
  - 点击 **Options**：切换至 `options` 标签摄像机。
  - 点击 **Credit**：切换至 `credit` 标签摄像机。
  - 点击 **Quit**：切换至 `quit` 标签摄像机。
- **取消/返回逻辑**：
  - 在退出确认对话框中，如果玩家选择“取消”或直接关闭窗口，通过回调逻辑将摄像机切回 `default`。
  - 点击各个子界面的 **Back** 按钮时，同样触发切回默认视角的逻辑。

------

## 四、 最终效果演示

- **无缝衔接**：UI 界面的层级切换与场景中摄像机的平滑移动同步进行。
- **视觉引导**：通过相机位置的变化（如选项界面的近景），引导玩家注意力集中在特定区域。

------

### 总结与结语

至此，我们已经拥有了一个功能完备、视觉精美且具有动态反馈的前端 UI 系统。这不仅包含了复杂的 Common UI 逻辑，还融合了场景互动元素。

**摄像机系统已经完美运作，您是否想了解如何为这些摄像机切换过程添加后处理效果（Post Process），例如在切换时产生短暂的动态模糊或景深变化？**