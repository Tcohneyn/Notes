## âš™ï¸ åˆ›å»º String Integer Data Object

æœ¬è®²åº§åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ•°æ®å¯¹è±¡ç±» **`UListDataObject_StringInteger`**ï¼Œå®ƒæ˜¯ `UListDataObject_String` çš„å­ç±»ï¼Œä¸“é—¨ç”¨äºå¤„ç† Unreal Engine ä¸­ä½¿ç”¨æ•´æ•°æ¥è¡¨ç¤ºæšä¸¾çº§åˆ«ï¼ˆå¦‚è´¨é‡è®¾ç½®ï¼‰çš„æƒ…å†µï¼Œå¹¶å¤„ç†â€œ-1â€ï¼ˆè‡ªå®šä¹‰ï¼‰çš„ç‰¹æ®Šè¿”å›å€¼ã€‚

------

### 1. ğŸ“‚ æ–°æ•°æ®å¯¹è±¡ç±»çš„åˆ›å»º

- **ç±»åï¼š** `UListDataObject_StringInteger`
- **çˆ¶ç±»ï¼š** `UListDataObject_String`
- **æ–‡ä»¶ä½ç½®ï¼š** åœ¨ `UListDataObject_String.h` ä¸­å®šä¹‰ã€‚

#### A. æ·»åŠ é€‰é¡¹å‡½æ•° (`AddIntegerOption`)

å®šä¹‰ä¸€ä¸ªå…¬å…±å‡½æ•°ï¼Œç”¨äºåœ¨ Data Registry ä¸­æ–¹ä¾¿åœ°æ·»åŠ æ•´æ•°å€¼å’Œå¯¹åº”çš„æ˜¾ç¤ºæ–‡æœ¬ï¼š

C++

```
// UListDataObject_StringInteger.h (Public Section)
void AddIntegerOption(int32 InIntegerValue, const FText& InDisplayText);
```

- **å®ç°é€»è¾‘ï¼š** å°†ä¼ å…¥çš„æ•´æ•°å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸² (`LexToString`)ï¼Œç„¶åè°ƒç”¨çˆ¶ç±» `UListDataObject_String` çš„ `AddDynamicOption` å‡½æ•°æ¥æ·»åŠ é€‰é¡¹ã€‚

------

### 2. âš¡ï¸ å¤„ç†åˆå§‹åŒ–æ—¶çš„â€œ-1â€ï¼ˆè‡ªå®šä¹‰ï¼‰å€¼

å½“è®¾ç½®é¡¹çš„ Getter è¿”å› `-1` æ—¶ï¼Œè¡¨ç¤ºè®¾ç½®æ˜¯è‡ªå®šä¹‰çš„ï¼ˆä¾‹å¦‚ï¼Œç”¨æˆ·æ‰‹åŠ¨æ›´æ”¹äº†æŸä¸ªå­è´¨é‡è®¾ç½®ï¼Œå¯¼è‡´æ•´ä½“è´¨é‡ä¸å†åŒ¹é…é¢„è®¾ç­‰çº§ï¼‰ã€‚éœ€è¦è¦†ç›–åˆå§‹åŒ–å‡½æ•°æ¥å¤„ç†æ­¤æƒ…å†µã€‚

#### A. è¦†ç›– `OnDataObjectInitialized`

- **è°ƒç”¨ Superï¼š** é¦–å…ˆè°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–ï¼Œç¡®ä¿åŸºæœ¬åŠŸèƒ½æ­£å¸¸ã€‚
- **è‡ªå®šä¹‰é€»è¾‘ï¼š** æ£€æŸ¥ `TrySetDisplayTextFromStringValue` æ˜¯å¦è¿”å› `false`ã€‚
  - å¦‚æœè¿”å› `false`ï¼Œè¯´æ˜å½“å‰é…ç½®å€¼ï¼ˆæ¥è‡ª Getterï¼‰åœ¨å·²æ·»åŠ çš„é€‰é¡¹åˆ—è¡¨ï¼ˆ0-4ï¼‰ä¸­æ‰¾ä¸åˆ°åŒ¹é…çš„æ˜¾ç¤ºæ–‡æœ¬ã€‚
  - **å¤„ç† -1ï¼š** åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°† `CurrentDisplayText` æ‰‹åŠ¨è®¾ç½®ä¸º `"Custom"`ï¼ˆè‡ªå®šä¹‰ï¼‰ã€‚

------

### 3. ğŸ”„ å¤„ç†ä¾èµ–æ•°æ®ä¿®æ”¹ï¼ˆä¾èµ–æ›´æ–°ï¼‰

è¯¥æ•°æ®å¯¹è±¡éœ€è¦å¤„ç†åŒå‘ä¾èµ–ï¼ˆä¾‹å¦‚ Overall Quality ä¾èµ–äº Global Illuminationï¼Œåä¹‹äº¦ç„¶ï¼‰ï¼Œå› æ­¤å¿…é¡»è¦†ç›– `OnEditDependencyDataModified` å‡½æ•°ã€‚

#### A. è¦†ç›– `OnEditDependencyDataModified`

è¿™ä¸ªå‡½æ•°åœ¨ä¾èµ–è®¾ç½®é¡¹ï¼ˆå¦‚å¦ä¸€ä¸ªè´¨é‡çº§åˆ«ï¼‰çš„å€¼æ”¹å˜æ—¶è¢«è°ƒç”¨ã€‚

- **æ ¸å¿ƒé€»è¾‘ï¼š**
  1. **è·å–æœ€æ–°å€¼ï¼š** æ£€æŸ¥ `DataDynamicGetter` æ˜¯å¦æœ‰æ•ˆã€‚å¦‚æœæœ‰æ•ˆï¼Œè°ƒç”¨ `GetValueAsString` ä»é…ç½®ç³»ç»Ÿï¼ˆConfig Fileï¼‰ä¸­è·å–è¯¥è®¾ç½®é¡¹çš„æœ€æ–°å€¼ï¼ˆå› ä¸º Unreal Engine ä¼šè‡ªåŠ¨æ›´æ–°å…³è”çš„é…ç½®å€¼ï¼‰ã€‚
  2. **æ›´æ–° UI çŠ¶æ€ï¼š** ä½¿ç”¨æ–°è·å–çš„å­—ç¬¦ä¸²å€¼ (`CurrentStringValue`) è°ƒç”¨ `TrySetDisplayTextFromStringValue` æ›´æ–° UI æ˜¾ç¤ºæ–‡æœ¬ã€‚
  3. **å¤„ç†è‡ªå®šä¹‰ï¼š** å¦‚æœæ›´æ–°å¤±è´¥ï¼ˆè¿”å› `-1`ï¼‰ï¼Œå°†æ˜¾ç¤ºæ–‡æœ¬è®¾ç½®ä¸º `"Custom"`ã€‚
  4. **å¹¿æ’­é€šçŸ¥ï¼š** è°ƒç”¨ `NotifyListModified`ï¼ˆä½¿ç”¨ `DependencyModified` åŸå› ï¼‰æ›´æ–° UI ä¸Šçš„å€¼æ˜¾ç¤ºã€‚
  5. **è°ƒç”¨ Superï¼š** è°ƒç”¨ `Super` ç‰ˆæœ¬å¹¿æ’­ `OnDependencyDataModified` å§”æ‰˜ï¼Œé€šçŸ¥ **Widget** é‡æ–°è¯„ä¼°å¯ç¼–è¾‘çŠ¶æ€ï¼ˆå¦‚æœéœ€è¦ï¼‰ã€‚

------

> â­ï¸ **ä¸‹ä¸€æ­¥ï¼š** ä½¿ç”¨æ–°åˆ›å»ºçš„ `UListDataObject_StringInteger` ç±»ï¼Œåœ¨ Data Registry ä¸­å®é™…æ„é€ å¹¶é…ç½® **Overall Quality**ï¼ˆæ•´ä½“è´¨é‡ï¼‰è®¾ç½®é¡¹ã€‚